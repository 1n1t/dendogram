$base-y-distance: 100px
$level-y-factor: 35px
$primary-color: #ff539a

.Node
  display: flex
  align-items: center
  position: absolute

@for $i from 2 through 4
  .Node__right.Node__level-#{$i}
    animation: expand-right-level-#{$i} 0.6s forwards
  .Node__left.Node__level-#{$i}
    animation: expand-left-level-#{$i} 0.6s forwards

  .Node-collapsed
    .Node__right.Node__level-#{$i}
      animation: collapse-right-level-#{$i} 0.6s forwards
    .Node__left.Node__level-#{$i}
      animation: collapse-left-level-#{$i} 0.6s forwards

.Node__circle
  width: 20px
  height: 20px
  border-radius: 50%
  border: 3px solid $primary-color

  margin-left: 10px
  cursor: pointer

.Node-collapsed > .Node__circle
  background-color: lighten($primary-color, 20%)

.Node__label
  width: 150px
  text-align: right

@for $i from 2 through 4
  @keyframes expand-right-level-#{$i}
    0%
      left: 0
      top: 0
      opacity: 0
    100%
      left: 250px
      top: calc(-#{$base-y-distance} + ((#{$i} - 2) * #{$level-y-factor}))
      opacity: 1

  @keyframes expand-left-level-#{$i}
    0%
      left: 0
      bottom: 0
      opacity: 0
    100%
      left: 250px
      bottom: calc(-#{$base-y-distance} + ((#{$i} - 2) * #{$level-y-factor}))
      opacity: 1

  @keyframes collapse-right-level-#{$i}
    0%
      left: 250px
      top: calc(-#{$base-y-distance} + ((#{$i} - 2) * #{$level-y-factor}))
      opacity: 1
    100%
      left: 0
      top: 0
      opacity: 0

  @keyframes collapse-left-level-#{$i}
    0%
      left: 250px
      bottom: calc(-#{$base-y-distance} + ((#{$i} - 2) * #{$level-y-factor}))
      opacity: 1
    100%
      left: 0
      bottom: 0
      opacity: 0
